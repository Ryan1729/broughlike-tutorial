<!DOCTYPE html>
<title>AWESOME BROUGHLIKE</title>

<style>
	canvas{
		outline: 1px solid white;
	}

	body{
		background-color: #251323;
		text-align: center;
		margin-top: 50px;
	}
</style> 
<canvas></canvas>

<script src="js/game.js"></script>
<script src="js/map.js"></script>
<script src="js/tile.js"></script>
<script src="js/monster.js"></script>
<script src="js/util.js"></script>
<script src="js/spell.js"></script>

<script>
	const maxHp = 6; 
	const startingHp = 3;
	const numLevels = 6;

	const tileSize = 64;
	const numTiles = 11;
	const uiWidth = 4;

	let level = 1;
	let gameState = "loading";
	let player;

	let shakeAmount = 0;
	let shakeX = 0;
	let shakeY = 0;	

	let spritesheet = new Image();
	spritesheet.onload = showTitle;
	spritesheet.src = 'spritesheet.png';

	document.querySelector("html").onkeypress = function(e){
	    if(gameState == "title"){										
			startGame();												
		}else if(gameState == "dead"){									
			showTitle();												
		}else{															
		    if(e.which==119) player.tryMove(0,-1);
		    if(e.which==115) player.tryMove(0,1);
		    if(e.which==97) player.tryMove(-1, 0);
		    if(e.which==100) player.tryMove(1, 0);

		    if(e.key>=1 && e.key<=9) player.castSpell(e.key-1);
		}
	};

	setupCanvas();

	initSounds();

	setInterval(draw, 15);
</script>